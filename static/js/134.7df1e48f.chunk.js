"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[134],{134:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(982),u=n(861),a=n(885),c=n(757),o=n.n(c),i=(n(727),n(791)),s=n(501),f=n(871),l=n(184);function h(){var e,t=(0,i.useState)(""),n=(0,a.Z)(t,2),c=n[0],h=n[1],p=(0,i.useState)([]),d=(0,a.Z)(p,2),m=d[0],v=d[1],y=(0,s.lr)(),b=(0,a.Z)(y,2),x=b[0],_=b[1],g=null!==(e=x.get("inputValue"))&&void 0!==e?e:"",j=(0,f.TH)();(0,i.useEffect)((function(){if(c){var e=function(){var e=(0,u.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=15d494776c3d35f24fb32811ec733217&query=".concat(c,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){return e.results})).catch((function(e){return console.log(e)}));case 2:t=e.sent,v((0,r.Z)(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[c]),(0,i.useEffect)((function(){var e=function(){var e=(0,u.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=15d494776c3d35f24fb32811ec733217&query=".concat(g,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){return e.results})).catch((function(e){return console.log(e)}));case 2:t=e.sent,v((0,r.Z)(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]);return(0,l.jsxs)("main",{children:[(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value;_(""!==t?{inputValue:t}:{}),h(t)},className:"SearchForm",children:[(0,l.jsx)("input",{name:"query",type:"text"}),(0,l.jsx)("button",{type:"submit",className:"SearchButton",children:"Search"})]}),(0,l.jsx)("ul",{children:m.map((function(e){var t;return(0,l.jsx)("li",{children:(0,l.jsx)(s.rU,{to:"".concat(e.id),state:{from:j},children:null!==(t=e.title)&&void 0!==t?t:e.name})},e.id)}))})]})}},982:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(907);var u=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,u.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=134.7df1e48f.chunk.js.map